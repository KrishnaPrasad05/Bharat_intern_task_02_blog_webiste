<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Document</title>
    <link rel="stylesheet" href="./style/style.css" />
    <style>
  
        body{
    background: linear-gradient(180deg,rgb(191, 245, 255),rgb(255, 255, 255));
    min-height: 100vh;
}
#article-form input:focus{
    box-shadow: none;
    outline: 0;
    border: 2px solid grey;
}
#article-form textarea:focus{
    box-shadow: none;
    outline: 0;
    border: 2px solid grey;
}
    </style>
</head>
<body>
    <div class="container">
        <h2 class="mt-3" style="color: darkblue;">Add new article</h2>
        <a href="/"><button class="btn btn-info">All articles</button></a>
        <form id="article-form" autocomplete="off">
            <label for="title" class="mt-3">Title</label>
            <input   class="form-control" id="title" placeholder="Enter title" >
            <label for="description" class="mt-3">Description</label>
            <input  class="form-control" id="description" placeholder="Enter description" >
            <label for="content" class="mt-3">Content</label>
            <textarea class="form-control" rows="10" id="content" placeholder="Use markdown for text formatting" ></textarea>
            <button type="submit" class="btn btn-primary mt-3">Post article</button>
            <button type="reset" class="btn btn-secondary mt-3">Reset</button>
        </form>
    </div>
   
    
   <script>
    document.getElementById('article-form'),addEventListener('submit',async(e)=>{
        e.preventDefault();
        const title = document.getElementById('title').value;
        const content = document.getElementById('content').value;
        const description = document.getElementById('description').value;
        const data = {title,content,description}

        await fetch('/api/article',{
            method:'POST',
            headers:{'content-type':'application/json'},
            body:JSON.stringify(data)
        })
        window.location.href='/'
    })
   </script> 
</body>
</html>